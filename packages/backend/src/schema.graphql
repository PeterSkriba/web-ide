# import * from 'generated/prisma.graphql'

type Query {
  user(email: String!): User
  exercise(title: String!): Exercise
  codeOwn(user_id: ID!, exercise_id: ID!): Code
}

type Mutation {
  createUser(data: createUserInput!): User
  createCode(data: createCodeInput!): Code
  createExercise(data: createExerciseInput!): Exercise

  updateCode(data: updateCodeDataInput!, where: updateCodeWhereInput!): Code
  runCode(code_id: ID!, test_no: Int!): runCodeOutput
}

type runCodeOutput {
  output: String
  log: String
  exitCode: Int
}

input updateCodeDataInput {
  body: String
}

input updateCodeWhereInput {
  id: ID
}

input createUserInput {
  username: String
  first_name: String
  last_name: String
  email: String
  password: String
}

input createCodeInput {
  body: String
  tests: [Int]
}

input createExerciseInput {
  title: String
  body: String
  description: String
  stdin: [String]
  stdout: [String]
}